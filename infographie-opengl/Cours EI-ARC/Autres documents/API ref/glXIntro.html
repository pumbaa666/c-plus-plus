<HEAD>
<TITLE>glXIntro.3gl</TITLE>
</HEAD>
<BODY>
<H2>glXIntro.3gl</H2>
<PRE>



</PRE><H2>Name</H2><PRE>
  <A HREF="glXIntro.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXIntro.html">glXIntro</A> - Introduction to OpenGL in the X window system



OVERVIEW
  OpenGL is a high-performance 3-D-oriented renderer.  It is available in the
  X window system through the GLX extension.  Use <A HREF="glXQueryExtension.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXQueryExtension.html">glXQueryExtension</A> and
  <A HREF="glXQueryVersion.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXQueryVersion.html">glXQueryVersion</A> to establish whether the GLX extension is supported by an X
  server, and if so, what version is supported.

  GLX extended servers make a subset of	their visuals available	for OpenGL
  rendering.  Drawables	created	with these visuals can also be rendered	using
  the core X renderer and with the renderer of any other X extension that is
  compatible with all core X visuals.

  GLX extends drawables	with several buffers other than	the standard color
  buffer.  These buffers include back and auxiliary color buffers, a depth
  buffer, a stencil buffer, and	a color	accumulation buffer.  Some or all are
  included in each X visual that supports OpenGL.

  To render using OpenGL into an X drawable, you must first choose a visual
  that defines the required OpenGL buffers.  <A HREF="glXChooseVisual.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXChooseVisual.html">glXChooseVisual</A> can be used to
  simplify selecting a compatible visual.  If more control of the selection
  process is required, use XGetVisualInfo and <A HREF="glXGetConfig.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXGetConfig.html">glXGetConfig</A> to select among
  all the available visuals.

  Use the selected visual to create both a GLX context and an X	drawable.
  GLX contexts are created with	<A HREF="glXCreateContext.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCreateContext.html">glXCreateContext</A>, and drawables	are created
  with either XCreateWindow or <A HREF="glXCreateGLXPixmap.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCreateGLXPixmap.html">glXCreateGLXPixmap</A>.  Finally, bind the context
  and the drawable together using <A HREF="glXMakeCurrent.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXMakeCurrent.html">glXMakeCurrent</A>.  This	context/drawable pair
  becomes the current context and current drawable, and	it is used by all
  OpenGL commands until	<A HREF="glXMakeCurrent.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXMakeCurrent.html">glXMakeCurrent</A> is called with different	arguments.

  Both core X and OpenGL commands can be used to operate on the	current
  drawable.  The X and OpenGL command streams are not synchronized, however,
  except at explicitly created boundaries generated by calling <A HREF="glXWaitGL.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXWaitGL.html">glXWaitGL</A>,
  <A HREF="glXWaitX.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXWaitX.html">glXWaitX</A>, XSync, and <A HREF="glFlush.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glFlush.html">glFlush</A>.


</PRE><H2>Examples</H2><PRE>
  Below	is the minimum code required to	create an RGBA-format, OpenGL-
  compatible X window and clear	it to yellow.  The code	is correct, but	it
  does not include any error checking.	Return values <I>dpy</I>, <I>vi</I>, <I>cx</I>, <I>cmap</I>, and
  <I>win</I> should all be tested.

  #include &lt;GL/glx.h&gt; #include &lt;GL/gl.h&gt; #include &lt;unistd.h&gt;

  static int attributeList[] = { GLX_RGBA, None	};

  static Bool WaitForNotify(Display *d,	XEvent *e, char	*arg) {
      return (e-&gt;type == MapNotify) &amp;&amp; (e-&gt;xmap.window == (Window)arg);	}

  int main(int argc, char **argv) {
      Display *dpy;
      XVisualInfo *vi;
      Colormap cmap;
      XSetWindowAttributes swa;
      Window win;
      GLXContext cx;
      XEvent event;

      /* get a connection */
      dpy = XOpenDisplay(0);

      /* get an	appropriate visual */
      vi = <A HREF="glXChooseVisual.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXChooseVisual.html">glXChooseVisual</A>(dpy,	DefaultScreen(dpy), attributeList);

      /* create	a GLX context */
      cx = <A HREF="glXCreateContext.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCreateContext.html">glXCreateContext</A>(dpy, vi, 0,	GL_TRUE);

      /* create	a color	map */
      cmap = XCreateColormap(dpy, RootWindow(dpy, vi-&gt;screen),
			     vi-&gt;visual, AllocNone);

      /* create	a window */
      swa.colormap = cmap;
      swa.border_pixel = 0;
      swa.event_mask = StructureNotifyMask;
      win = XCreateWindow(dpy, RootWindow(dpy, vi-&gt;screen), 0, 0, 100, 100,
			  0, vi-&gt;depth,	InputOutput, vi-&gt;visual,
			  CWBorderPixel|CWColormap|CWEventMask,	&amp;swa);
      XMapWindow(dpy, win);
      XIfEvent(dpy, &amp;event, WaitForNotify, (char*)win);

      /* connect the context to	the window */
      <A HREF="glXMakeCurrent.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXMakeCurrent.html">glXMakeCurrent</A>(dpy, win, cx);

      /* clear the buffer */
      <A HREF="glClearColor.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glClearColor.html">glClearColor</A>(1,1,0,1);
      <A HREF="glClear.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glClear.html">glClear</A>(GL_COLOR_BUFFER_BIT);
      <A HREF="glFlush.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glFlush.html">glFlush</A>();

      /* wait a	while */
      sleep(10); }



</PRE><H2>Notes</H2><PRE>
  A color map must be created and passed to XCreateWindow.  See	the example
  code above.

  A GLX	context	must be	created	and attached to	an X drawable before OpenGL
  commands can be executed.  OpenGL commands issued while no context/drawable
  pair is current are ignored.

  Exposure events indicate that	<I>all</I> buffers associated with the	specified
  window may be	damaged	and should be repainted.  Although certain buffers of
  some visuals on some systems may never require repainting (the depth
  buffer, for example),	it is incorrect	to code	assuming that these buffers
  will not be damaged.

  GLX commands manipulate XVisualInfo structures rather	than pointers to
  visuals or visual IDs.  XVisualInfo structures contain <I>visual</I>, <I>visualID</I>,
  <I>screen</I>, and <I>depth</I> elements, as well as other X-specific information.



</PRE><H2>See Also</H2><PRE>
  <A HREF="glFinish.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glFinish.html">glFinish</A>, <A HREF="glFlush.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glFlush.html">glFlush</A>, <A HREF="glXChooseVisual.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXChooseVisual.html">glXChooseVisual</A>, <A HREF="glXCopyContext.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCopyContext.html">glXCopyContext</A>, <A HREF="glXCreateContext.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCreateContext.html">glXCreateContext</A>,
  <A HREF="glXCreateGLXPixmap.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXCreateGLXPixmap.html">glXCreateGLXPixmap</A>, <A HREF="glXDestroyContext.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXDestroyContext.html">glXDestroyContext</A>, <A HREF="glXGetConfig.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXGetConfig.html">glXGetConfig</A>, <A HREF="glXIsDirect.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXIsDirect.html">glXIsDirect</A>,
  <A HREF="glXMakeCurrent.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXMakeCurrent.html">glXMakeCurrent</A>, <A HREF="glXQueryExtension.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXQueryExtension.html">glXQueryExtension</A>, <A HREF="glXQueryVersion.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXQueryVersion.html">glXQueryVersion</A>, <A HREF="glXSwapBuffers.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXSwapBuffers.html">glXSwapBuffers</A>,
  <A HREF="glXUseXFont.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXUseXFont.html">glXUseXFont</A>, <A HREF="glXWaitGL.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXWaitGL.html">glXWaitGL</A>, <A HREF="glXWaitX.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/glXWaitX.html">glXWaitX</A>, XCreateColormap, XCreateWindow, XSync

</PRE>
<HR><P>
<!/**** BEGIN NAVIGATION ****/>
<A HREF="index.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/index.html">Introduction</A> | 
<A HREF="opengl_index_alpha.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/opengl_index_alpha.html">Alphabetic</A> | 
<A HREF="opengl_index_spec.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/opengl_index_spec.html">Specification</A>
<!/**** END NAVIGATION ****/>
<P>
Last Edited: <EM>Mon, May 22, 1995</EM>
<P>
<EM><A HREF="afv.html" tppabs="http://www.eecs.tulane.edu/www/graphics/doc/OpenGL-Man-Pages/afv.html">AFV</A></EM>
</BODY>
</HTML>
